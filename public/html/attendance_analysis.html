<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Attendance System</title>
  <link rel="stylesheet" href="\css\attendance-analysis.css">
  <link rel="stylesheet" href="css/styles.css">


  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
 
</head>

<body>
  <div class="grid-container">

    <!-- Header -->
    <header class="header">
      <div class="menu-icon" onclick="openSidebar()">
        <span class="material-icons-outlined">menu</span>
      </div>
      <div class="header-left">
        <span class="material-icons-outlined">search</span>
      </div>
      <div class="header-right">
        <span class="material-icons-outlined">notifications</span>
        <span class="material-icons-outlined">email</span>
        <span class="material-icons-outlined">account_circle</span>
      </div>
    </header>
    <!-- End Header -->

    <!-- Sidebar -->
    <aside id="sidebar">
      <div class="sidebar-title">
        <div class="sidebar-brand">
          <span class="material-icons-outlined">inventory</span> E-Attendance-Manager
        </div>
        <span class="material-icons-outlined" onclick="closeSidebar()">close</span>
      </div>

      <ul class="sidebar-list">
        <li class="sidebar-list-item">
          <a href="/">
            <span class="material-icons-outlined">dashboard</span> Dashboard
          </a>
        </li>
        <li class="sidebar-list-item">
          <a href="manage_staff">
            <span class="material-icons-outlined">inventory_2</span> Manage Staff
          </a>
        </li>
        <li class="sidebar-list-item">
          <a href="attendance">
            <span class="material-icons-outlined">fact_check</span> Attendance
          </a>
        </li>
        
        
        <li class="sidebar-list-item">
          <a href="reports">
            <span class="material-icons-outlined">poll</span> Reports
          </a>
        </li>
        <li class="sidebar-list-item">
          <a href="settings">
            <span class="material-icons-outlined">settings</span> Settings
          </a>
        </li>
      </ul>
    </aside>
    <!-- End Sidebar -->

    <main class="container">`
      <h1>Attendance Analysis</h1>
     <!-- Toggle between yearly and monthly view -->
<div class="toggle-wrapper">
  <input type="radio" id="monthly-toggle" name="view-toggle" value="monthly" checked onchange="toggleView()">
  <label for="monthly-toggle" title="Click to view detailed monthly attendance">Monthly</label>
  <input type="radio" id="yearly-toggle" name="view-toggle" value="yearly" onchange="toggleView()">
  <label for="yearly-toggle" title="Click to view summarized yearly attendance">Yearly</label>
</div>

       <!-- Yearly view -->
<div id="yearly-view" style="display: none;">
  <label for="year-selector">Select Year:</label>
  <select id="year-selector" name="year">
      <!-- Create options dynamically for a range of years -->
  </select>
  <button onclick="fetchYearlyAttendanceData()">Fetch Year Data</button>
        
      <button id="printYearlyReportButton" onclick="printYearlyAttendanceAnalysis()">Print Yearly Report</button>
  <div id="yearlyAttendanceAnalysis"></div>
</div>

      <!-- Monthly view -->
      <div id="monthly-view">
          <label for="month-selector">Select Month:</label>
          <input type="month" id="month-selector" name="month">
          <button onclick="fetchAttendanceData()">Fetch Month Data</button>
          <button id="printReportAndAnalysisButton" onclick="printMonthlyReportAndAnalysis()">Print Monthly Report and Analysis</button>
          <div id="attendanceAnalysis"></div>
      </div>

      


    
    <!-- Modal HTML structure -->
<!-- Modal HTML structure -->
<!-- Modal HTML structure -->
<div id="monthlyReportModal" class="modal">
  <div class="modal-content">
      <span class="close">&times;</span>
      
      <div id="print_view">
        <h2 id="modalTitle"></h2>
        <div class="modal-buttons">
          <button id="printButton">Print</button>
          <button id="downloadButton">Download</button>
      </div>
        <div id="monthlyReport"></div>
      </div>
  </div>
</div>

<div class="chart">
<div id="monthlyPieChartContainer" class="chart-container"> 
  <div id="pie-chart-container"></div>
</div>

<div id="yearlyPieChartContainer" class="chart-container"> 
  <div id="yearly-chart"></div>
</div>

</div>


</main>
  

  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="js/attendance_analysis.js"></script>
</body>
</html>
